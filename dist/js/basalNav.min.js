!function(t,n){"function"==typeof define&&define.amd?define(n):"object"==typeof exports?module.exports=n():t.BasalNav=n()}(this,function(){"use strict";var t,n={},e=function(t,n){var e,i={};for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=t[e]);for(e in n)Object.prototype.hasOwnProperty.call(n,e)&&(i[e]=n[e]);return i},i={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"},a=document.createElement("div");for(var s in i)if("undefined"!=typeof a.style[s]){window.transitionEnd=i[s];break}var o={TOGGLE_ELEMENT:"basal-nav__hamburger",TOGGLE_ELEMENT_ACTIVE_CLASS:"basal-nav__hamburger--close"},r={},c=!1,l=function(n,e,i){e.style.display="block",window.setTimeout(function(){e.classList.add(i),n.classList.add(t.TOGGLE_ELEMENT_ACTIVE_CLASS)},20),c=!0},d=function(n,e,i){function a(){e.style.display="none",e.removeEventListener(transitionEnd,a,!1)}e.classList.remove(i),n.classList.remove(t.TOGGLE_ELEMENT_ACTIVE_CLASS),e.addEventListener(transitionEnd,a,!1),c=!1},E=function(n){if(n.target&&n.target.classList.contains(t.TOGGLE_ELEMENT)){var e,i,a=n.target;if(!a.hasAttribute("data-toggle")||!a.hasAttribute("data-toggle-class"))throw new Error("Toggle is missing data attributes.");e=document.querySelector("#"+a.getAttribute("data-toggle")),i=a.getAttribute("data-toggle-class"),r.toggle=a,r.nav=e,r.navActiveClass=i,e.classList.contains(i)?e.classList.contains(i)&&d(a,e,i):l(a,e,i)}else c&&r.nav.classList.contains(r.navActiveClass)&&d(r.toggle,r.nav,r.navActiveClass)},u=function(t){"click"===t.type&&E(t)};return n.destroy=function(){document.removeEventListener("click",u,!1),t=null},n.init=function(i){n.destroy(),t=e(o,i||{}),document.addEventListener("click",u,!1)},n});