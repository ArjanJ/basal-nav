!function(t,n){"function"==typeof define&&define.amd?define(n):"object"==typeof exports?module.exports=n():t.BasalNav=n()}(this,function(){"use strict";var t,n={},e=function(t,n){var e,i={};for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=t[e]);for(e in n)Object.prototype.hasOwnProperty.call(n,e)&&(i[e]=n[e]);return i},i={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"},s=document.createElement("div");for(var a in i)if("undefined"!=typeof s.style[a]){window.transitionEnd=i[a];break}var o={TOGGLE_ELEMENT:"basal-nav__hamburger",TOGGLE_ELEMENT_ACTIVE_CLASS:"basal-nav__hamburger--close"},r=function(n,e,i){e.style.display="block",window.setTimeout(function(){e.classList.add(i),n.classList.add(t.TOGGLE_ELEMENT_ACTIVE_CLASS)},20)},c=function(n,e,i){function s(){e.style.display="none",e.removeEventListener(transitionEnd,s,!1)}e.classList.remove(i),n.classList.remove(t.TOGGLE_ELEMENT_ACTIVE_CLASS),e.addEventListener(transitionEnd,s,!1),l&&(l.open=!1)},l={},d=function(n){if(n.target&&n.target.classList.contains(t.TOGGLE_ELEMENT)){var e=n.target,i=document.querySelector("#"+e.getAttribute("data-toggle")),s=e.getAttribute("data-toggle-class");l.toggle=e,l.nav=i,l.navActiveClass=s,l.open=!0,i.classList.contains(s)?i.classList.contains(s)&&c(e,i,s):r(e,i,s)}else l.open&&l.nav.classList.contains(l.navActiveClass)&&c(l.toggle,l.nav,l.navActiveClass)},E=function(t){"click"===t.type&&d(t)};return n.destroy=function(){document.removeEventListener("click",E,!1),t=null},n.init=function(i){n.destroy(),t=e(o,i||{}),document.addEventListener("click",E,!1)},n});