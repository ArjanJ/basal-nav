!function(n,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():n.BasalNav=t()}(this,function(){"use strict";function n(n){var t=this,e=n,a=0,i=1,o=".basal-nav__nav",s="basal-nav__nav--active",r=".basal-nav__hamburger",c="basal-nav__hamburger--active",d=window.hasOwnProperty("ontouchstart")?"ontouchstart":"click";t._state=i,t._nav=e.querySelector(o),t._hamburger=e.querySelector(r);var l={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"},v=document.createElement("div");for(var u in l)if("undefined"!=typeof v.style[u]){window.transitionEnd=l[u];break}t.open=function(){t._state!==a&&(t._nav.style.display="block",window.setTimeout(function(){t._nav.classList.add(s),t._hamburger.classList.add(c),t._state=a},20))},t.close=function(){function n(){t._nav.style.display="none",t._nav.removeEventListener(transitionEnd,n,!1)}t._state!==i&&(t._nav.classList.remove(s),t._hamburger.classList.remove(c),t._nav.addEventListener(transitionEnd,n,!1),t._state=i)},t.toggle=function(){t[t._state===i?"open":"close"]()},t.eventHandler=function(n){n.stopPropagation(),n.preventDefault(),t.toggle()},t.init=function(){t._hamburger.addEventListener("click",t.eventHandler,!1),document.addEventListener(d,function(n){var e=n.target;t._nav.contains(e)||"A"===e.nodeName||t.close()})},t.init()}function t(){for(var t=document.querySelectorAll(".basal-nav"),e=0;e<t.length;e++){new n(t[e])}}t()});